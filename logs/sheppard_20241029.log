2024-10-29 09:13:12,336 [INFO] root:577: Configuration initialized successfully
2024-10-29 09:13:12,340 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53371047973633,
    "available": 54.82499694824219
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.242588043213
  }
}
2024-10-29 09:13:12,345 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 16864271
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 16854644
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 09:13:12,359 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:13:12,360 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:13:12,454 [DEBUG] asyncio:64: Using selector: EpollSelector
2024-10-29 09:13:12,456 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:13:12,457 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:13:12,458 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:13:12,464 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:13:12,467 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:13:12,468 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:13:12,468 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:13:12,473 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:13:12,545 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 09:13:12,550 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 09:13:12,670 [DEBUG] chromadb.config:317: Starting component System
2024-10-29 09:13:12,670 [DEBUG] chromadb.config:317: Starting component Posthog
2024-10-29 09:13:12,670 [DEBUG] chromadb.config:317: Starting component OpenTelemetryClient
2024-10-29 09:13:12,670 [DEBUG] chromadb.config:317: Starting component SqliteDB
2024-10-29 09:13:12,690 [DEBUG] chromadb.config:317: Starting component QuotaEnforcer
2024-10-29 09:13:12,690 [DEBUG] chromadb.config:317: Starting component SimpleRateLimitEnforcer
2024-10-29 09:13:12,690 [DEBUG] chromadb.config:317: Starting component LocalSegmentManager
2024-10-29 09:13:12,690 [DEBUG] chromadb.config:317: Starting component SegmentAPI
2024-10-29 09:13:12,692 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 09:13:12,692 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 09:13:12,694 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 09:13:12,694 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 09:13:12,697 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 09:13:12,697 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 09:13:12,699 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 09:13:12,699 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 09:13:12,701 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 09:13:12,701 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 09:13:12,702 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 09:13:12,764 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:13:12,777 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:13:12,790 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:13:12,799 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:13:12,808 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:13:12,852 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:13:12,852 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:13:12,865 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:13:12,865 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:13:12,878 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:13:12,879 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:13:12,892 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:13:12,892 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:13:12,905 [INFO] src.core.memory.validation:23: Memory validation schemas initialized successfully
2024-10-29 09:13:12,909 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 09:13:12,910 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7c18dc7e0a40>
2024-10-29 09:13:12,910 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:13:12,910 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:13:12,910 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:13:12,910 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:13:12,910 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:13:12,914 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:13:12 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:13:12,914 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:13:12,915 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:13:12,915 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:13:12,915 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:13:12,915 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:13:12,915 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:13:12,916 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:13:12,916 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:13:12,916 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:13:12,916 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:13:12,918 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:13:12 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:13:12,919 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:13:12,919 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:13:12,919 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:13:12,919 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:13:12,919 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:13:12,920 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:13:12,920 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:13:12,920 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:13:12,920 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:13:12,920 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:13:12,924 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:13:12 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:13:12,924 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:13:12,924 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:13:12,924 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:13:12,925 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:13:12,925 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:13:12,925 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:13:12,925 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:13:12,925 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:13:12,925 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:13:12,925 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:13:12,928 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:13:12 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:13:12,928 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:13:12,928 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:13:12,929 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:13:12,929 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:13:12,929 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:13:12,982 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 09:13:12,984 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 09:13:12,987 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 09:13:12,987 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 09:13:12,988 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 09:13:12,988 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 09:13:12,989 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 09:13:12,989 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 09:13:12,990 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 09:13:12,990 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 09:13:12,991 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 09:13:12,991 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 09:13:12,992 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 09:13:13,039 [INFO] src.core.trust_call:45: Successfully registered schema: calculator
2024-10-29 09:13:13,040 [ERROR] src.core.sheppard.tools.manager:87: Failed to register tool implementation: calculator
2024-10-29 09:13:13,041 [ERROR] src.core.sheppard.core:107: Failed to initialize tool manager
2024-10-29 09:13:13,043 [INFO] src.core.memory.storage.connection:210: Starting asynchronous connection cleanup
2024-10-29 09:13:13,044 [INFO] src.core.memory.storage.connection:250: Asynchronous connection cleanup completed
2024-10-29 09:13:13,192 [INFO] src.core.memory.storage.connection:76: Starting synchronous connection cleanup
2024-10-29 09:13:13,210 [INFO] src.core.memory.storage.connection:105: Synchronous connection cleanup completed
2024-10-29 09:23:45,772 [INFO] root:577: Configuration initialized successfully
2024-10-29 09:23:45,776 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53371047973633,
    "available": 53.05177688598633
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.2402687072754
  }
}
2024-10-29 09:23:45,778 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 16925713
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 16916084
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 09:26:57,449 [INFO] root:577: Configuration initialized successfully
2024-10-29 09:26:57,453 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53371047973633,
    "available": 52.99276351928711
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.239574432373
  }
}
2024-10-29 09:26:57,455 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 16925713
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 16916084
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 09:26:57,490 [DEBUG] asyncio:64: Using selector: EpollSelector
2024-10-29 09:26:57,491 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:26:57,492 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:26:57,493 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:26:57,496 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:26:57,498 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:26:57,498 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:26:57,499 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:26:57,503 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:26:57,579 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 09:26:57,583 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 09:26:57,666 [DEBUG] chromadb.config:317: Starting component System
2024-10-29 09:26:57,666 [DEBUG] chromadb.config:317: Starting component Posthog
2024-10-29 09:26:57,666 [DEBUG] chromadb.config:317: Starting component OpenTelemetryClient
2024-10-29 09:26:57,666 [DEBUG] chromadb.config:317: Starting component SqliteDB
2024-10-29 09:26:57,667 [DEBUG] chromadb.config:317: Starting component QuotaEnforcer
2024-10-29 09:26:57,667 [DEBUG] chromadb.config:317: Starting component SimpleRateLimitEnforcer
2024-10-29 09:26:57,667 [DEBUG] chromadb.config:317: Starting component LocalSegmentManager
2024-10-29 09:26:57,667 [DEBUG] chromadb.config:317: Starting component SegmentAPI
2024-10-29 09:26:57,668 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 09:26:57,668 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 09:26:57,670 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 09:26:57,670 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 09:26:57,672 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 09:26:57,672 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 09:26:57,674 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 09:26:57,674 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 09:26:57,676 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 09:26:57,676 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 09:26:57,677 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 09:26:57,694 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:26:57,706 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:26:57,719 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:26:57,729 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:26:57,738 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:26:57,784 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:26:57,785 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:26:57,797 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:26:57,798 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:26:57,810 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:26:57,811 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:26:57,823 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:26:57,824 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:26:57,836 [INFO] src.core.memory.validation:23: Memory validation schemas initialized successfully
2024-10-29 09:26:57,839 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 09:26:57,840 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x76890d300530>
2024-10-29 09:26:57,840 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:26:57,841 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:26:57,841 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:26:57,841 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:26:57,841 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:26:57,845 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:26:57 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:26:57,846 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:26:57,847 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:26:57,847 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:26:57,847 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:26:57,847 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:26:57,847 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:26:57,847 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:26:57,847 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:26:57,847 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:26:57,847 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:26:57,851 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:26:57 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:26:57,851 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:26:57,852 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:26:57,852 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:26:57,852 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:26:57,852 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:26:57,853 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:26:57,853 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:26:57,853 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:26:57,853 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:26:57,853 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:26:57,858 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:26:57 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:26:57,858 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:26:57,858 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:26:57,859 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:26:57,859 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:26:57,859 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:26:57,859 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:26:57,859 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:26:57,859 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:26:57,859 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:26:57,859 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:26:57,864 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:26:57 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:26:57,864 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:26:57,865 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:26:57,865 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:26:57,865 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:26:57,865 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:26:57,910 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 09:26:57,911 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 09:26:57,913 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 09:26:57,913 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 09:26:57,914 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 09:26:57,914 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 09:26:57,916 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 09:26:57,916 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 09:26:57,917 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 09:26:57,917 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 09:26:57,919 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 09:26:57,919 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 09:26:57,920 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 09:26:57,973 [INFO] src.core.trust_call:45: Successfully registered schema: calculator
2024-10-29 09:26:57,974 [ERROR] src.core.sheppard.tools.manager:87: Failed to register tool implementation: calculator
2024-10-29 09:26:57,975 [ERROR] src.core.sheppard.core:107: Failed to initialize tool manager
2024-10-29 09:26:57,977 [INFO] src.core.memory.storage.connection:210: Starting asynchronous connection cleanup
2024-10-29 09:26:57,978 [INFO] src.core.memory.storage.connection:250: Asynchronous connection cleanup completed
2024-10-29 09:26:58,168 [INFO] src.core.memory.storage.connection:76: Starting synchronous connection cleanup
2024-10-29 09:26:58,183 [INFO] src.core.memory.storage.connection:105: Synchronous connection cleanup completed
2024-10-29 09:30:01,443 [INFO] root:577: Configuration initialized successfully
2024-10-29 09:30:01,447 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53371047973633,
    "available": 52.71440124511719
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.2385520935059
  }
}
2024-10-29 09:30:01,449 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 16987155
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 16977524
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 09:30:01,485 [DEBUG] asyncio:64: Using selector: EpollSelector
2024-10-29 09:30:01,486 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:30:01,487 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:30:01,487 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:30:01,492 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:30:01,494 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:30:01,495 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:30:01,495 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:30:01,500 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:30:01,582 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 09:30:01,585 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 09:30:01,663 [DEBUG] chromadb.config:317: Starting component System
2024-10-29 09:30:01,664 [DEBUG] chromadb.config:317: Starting component Posthog
2024-10-29 09:30:01,664 [DEBUG] chromadb.config:317: Starting component OpenTelemetryClient
2024-10-29 09:30:01,664 [DEBUG] chromadb.config:317: Starting component SqliteDB
2024-10-29 09:30:01,664 [DEBUG] chromadb.config:317: Starting component QuotaEnforcer
2024-10-29 09:30:01,665 [DEBUG] chromadb.config:317: Starting component SimpleRateLimitEnforcer
2024-10-29 09:30:01,665 [DEBUG] chromadb.config:317: Starting component LocalSegmentManager
2024-10-29 09:30:01,665 [DEBUG] chromadb.config:317: Starting component SegmentAPI
2024-10-29 09:30:01,666 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 09:30:01,666 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 09:30:01,668 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 09:30:01,668 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 09:30:01,670 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 09:30:01,670 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 09:30:01,672 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 09:30:01,672 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 09:30:01,673 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 09:30:01,673 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 09:30:01,674 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 09:30:01,690 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:30:01,700 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:30:01,709 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:30:01,723 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:30:01,732 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:30:01,780 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:30:01,781 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:30:01,794 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:30:01,794 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:30:01,807 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:30:01,807 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:30:01,820 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:30:01,821 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:30:01,833 [INFO] src.core.memory.validation:23: Memory validation schemas initialized successfully
2024-10-29 09:30:01,836 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 09:30:01,837 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7490d91106b0>
2024-10-29 09:30:01,837 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:30:01,837 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:30:01,837 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:30:01,837 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:30:01,837 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:30:01,840 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:30:01 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:30:01,841 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:30:01,841 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:30:01,842 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:30:01,842 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:30:01,842 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:30:01,842 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:30:01,842 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:30:01,842 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:30:01,842 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:30:01,842 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:30:01,845 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:30:01 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:30:01,846 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:30:01,846 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:30:01,846 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:30:01,846 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:30:01,846 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:30:01,847 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:30:01,847 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:30:01,847 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:30:01,847 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:30:01,847 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:30:01,850 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:30:01 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:30:01,850 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:30:01,851 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:30:01,851 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:30:01,851 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:30:01,851 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:30:01,851 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:30:01,851 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:30:01,851 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:30:01,851 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:30:01,851 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:30:01,854 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:30:01 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:30:01,854 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:30:01,855 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:30:01,855 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:30:01,855 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:30:01,855 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:30:01,949 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 09:30:01,956 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 09:30:01,968 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 09:30:01,968 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 09:30:01,973 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 09:30:01,973 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 09:30:01,976 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 09:30:01,976 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 09:30:01,978 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 09:30:01,978 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 09:30:01,979 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 09:30:01,979 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 09:30:01,980 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 09:30:02,030 [INFO] src.core.trust_call:45: Successfully registered schema: calculator
2024-10-29 09:30:02,031 [ERROR] src.core.sheppard.tools.manager:87: Failed to register tool implementation: calculator
2024-10-29 09:30:02,031 [ERROR] src.core.sheppard.core:107: Failed to initialize tool manager
2024-10-29 09:30:02,034 [INFO] src.core.memory.storage.connection:210: Starting asynchronous connection cleanup
2024-10-29 09:30:02,035 [INFO] src.core.memory.storage.connection:250: Asynchronous connection cleanup completed
2024-10-29 09:30:02,166 [INFO] src.core.memory.storage.connection:76: Starting synchronous connection cleanup
2024-10-29 09:30:02,181 [INFO] src.core.memory.storage.connection:105: Synchronous connection cleanup completed
2024-10-29 09:35:50,482 [INFO] root:577: Configuration initialized successfully
2024-10-29 09:35:50,486 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53371047973633,
    "available": 52.95555877685547
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.2366943359375
  }
}
2024-10-29 09:35:50,488 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17048597
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17038964
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 09:35:50,524 [DEBUG] asyncio:64: Using selector: EpollSelector
2024-10-29 09:35:50,526 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:35:50,527 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:35:50,528 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:35:50,534 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:35:50,536 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:35:50,536 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:35:50,537 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:35:50,540 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:35:50,603 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:35:50,604 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.119ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 09:35:50,605 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=13, family=2, type=1, proto=6, laddr=('127.0.0.1', 52476), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=13 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7213b258e060>)
2024-10-29 09:35:50,607 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:35:50,607 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.048ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 09:35:50,608 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=14, family=2, type=1, proto=6, laddr=('127.0.0.1', 33780), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=14 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7213b258fd10>)
2024-10-29 09:35:50,609 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:35:50,609 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.046ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 09:35:50,610 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=15, family=2, type=1, proto=6, laddr=('127.0.0.1', 57044), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=15 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7213b25b8aa0>)
2024-10-29 09:35:50,611 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:35:50,611 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.037ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 09:35:50,611 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=16, family=2, type=1, proto=6, laddr=('127.0.0.1', 50980), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=16 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7213b25ba180>)
2024-10-29 09:35:50,612 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:35:50,613 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.035ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 09:35:50,613 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=17, family=2, type=1, proto=6, laddr=('127.0.0.1', 47018), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=17 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7213b25bab10>)
2024-10-29 09:35:50,614 [ERROR] src.core.memory.storage.postgresql:145: Error initializing PostgreSQL storage: 'ConnectionManager' object has no attribute 'get_pg_connection'
2024-10-29 09:35:50,615 [ERROR] src.core.memory.storage.postgresql:145: Error initializing PostgreSQL storage: 'ConnectionManager' object has no attribute 'get_pg_connection'
2024-10-29 09:35:50,617 [ERROR] src.core.memory.storage.postgresql:145: Error initializing PostgreSQL storage: 'ConnectionManager' object has no attribute 'get_pg_connection'
2024-10-29 09:35:50,618 [ERROR] src.core.memory.storage.storage_manager:84: Failed to initialize PostgreSQL
2024-10-29 09:35:50,619 [ERROR] __main__:83: Failed to initialize storage manager
2024-10-29 09:35:50,621 [INFO] src.core.memory.storage.connection:126: Starting connection cleanup
2024-10-29 09:35:50,625 [INFO] src.core.memory.storage.connection:166: Connection cleanup completed
2024-10-29 09:35:50,626 [INFO] src.core.memory.storage.connection:126: Starting connection cleanup
2024-10-29 09:35:50,627 [INFO] src.core.memory.storage.connection:166: Connection cleanup completed
2024-10-29 09:35:50,627 [DEBUG] asyncio:710: Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2024-10-29 09:38:34,052 [INFO] root:577: Configuration initialized successfully
2024-10-29 09:38:34,055 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53371047973633,
    "available": 52.81552505493164
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.2379035949707
  }
}
2024-10-29 09:38:34,057 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17048599
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17038964
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 09:38:34,092 [DEBUG] asyncio:64: Using selector: EpollSelector
2024-10-29 09:38:34,094 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:38:34,095 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:38:34,095 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:38:34,098 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:38:34,100 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:38:34,100 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:38:34,101 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:38:34,105 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:38:34,177 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:38:34,177 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.197ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 09:38:34,180 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=13, family=2, type=1, proto=6, laddr=('127.0.0.1', 52344), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=13 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x78031817e1e0>)
2024-10-29 09:38:34,182 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:38:34,182 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.089ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 09:38:34,184 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=14, family=2, type=1, proto=6, laddr=('127.0.0.1', 40192), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=14 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x78031817fe30>)
2024-10-29 09:38:34,185 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:38:34,186 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.063ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 09:38:34,186 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=15, family=2, type=1, proto=6, laddr=('127.0.0.1', 37342), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=15 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7803181b8aa0>)
2024-10-29 09:38:34,188 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:38:34,188 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.041ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 09:38:34,189 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=16, family=2, type=1, proto=6, laddr=('127.0.0.1', 39496), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=16 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7803181ba2a0>)
2024-10-29 09:38:34,190 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:38:34,190 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.037ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 09:38:34,191 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=17, family=2, type=1, proto=6, laddr=('127.0.0.1', 51242), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=17 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7803181bac60>)
2024-10-29 09:38:34,194 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 09:38:34,196 [ERROR] src.core.memory.storage.redis_cache:124: Error initializing Redis cache: 'ConnectionManager' object has no attribute 'get_redis_client'
2024-10-29 09:38:34,197 [ERROR] src.core.memory.storage.redis_cache:124: Error initializing Redis cache: 'ConnectionManager' object has no attribute 'get_redis_client'
2024-10-29 09:38:34,199 [ERROR] src.core.memory.storage.redis_cache:124: Error initializing Redis cache: 'ConnectionManager' object has no attribute 'get_redis_client'
2024-10-29 09:38:34,203 [ERROR] src.core.memory.storage.storage_manager:84: Failed to initialize Redis
2024-10-29 09:38:34,206 [ERROR] __main__:83: Failed to initialize storage manager
2024-10-29 09:38:34,210 [INFO] src.core.memory.storage.connection:149: Starting connection cleanup
2024-10-29 09:38:34,214 [INFO] src.core.memory.storage.connection:195: Connection cleanup completed
2024-10-29 09:38:34,215 [INFO] src.core.memory.storage.connection:149: Starting connection cleanup
2024-10-29 09:38:34,215 [INFO] src.core.memory.storage.connection:195: Connection cleanup completed
2024-10-29 09:38:34,216 [DEBUG] asyncio:710: Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2024-10-29 09:42:34,204 [INFO] root:577: Configuration initialized successfully
2024-10-29 09:42:34,208 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53371047973633,
    "available": 52.852630615234375
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.2480659484863
  }
}
2024-10-29 09:42:34,210 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 968101
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 958464
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 09:42:34,246 [DEBUG] asyncio:64: Using selector: EpollSelector
2024-10-29 09:42:34,248 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:42:34,249 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:42:34,249 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:42:34,253 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:42:34,254 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:42:34,255 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:42:34,255 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:42:34,258 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:42:34,306 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:42:34,307 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.372ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 09:42:34,310 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=13, family=2, type=1, proto=6, laddr=('127.0.0.1', 37684), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=13 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x720f98579f40>)
2024-10-29 09:42:34,315 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:42:34,315 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.285ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 09:42:34,318 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=14, family=2, type=1, proto=6, laddr=('127.0.0.1', 55352), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=14 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x720f9857bf80>)
2024-10-29 09:42:34,320 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:42:34,320 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.116ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 09:42:34,322 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=15, family=2, type=1, proto=6, laddr=('127.0.0.1', 45938), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=15 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x720f985b4d40>)
2024-10-29 09:42:34,324 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:42:34,324 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.052ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 09:42:34,325 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=16, family=2, type=1, proto=6, laddr=('127.0.0.1', 57998), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=16 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x720f985b6330>)
2024-10-29 09:42:34,326 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:42:34,326 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.060ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 09:42:34,327 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=17, family=2, type=1, proto=6, laddr=('127.0.0.1', 39208), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=17 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x720f985b6cc0>)
2024-10-29 09:42:34,367 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 09:42:34,368 [ERROR] src.core.memory.storage.redis_cache:124: Error initializing Redis cache: 'ConnectionManager' object has no attribute 'get_redis_client'
2024-10-29 09:42:34,369 [ERROR] src.core.memory.storage.redis_cache:124: Error initializing Redis cache: 'ConnectionManager' object has no attribute 'get_redis_client'
2024-10-29 09:42:34,371 [ERROR] src.core.memory.storage.redis_cache:124: Error initializing Redis cache: 'ConnectionManager' object has no attribute 'get_redis_client'
2024-10-29 09:42:34,373 [ERROR] src.core.memory.storage.storage_manager:84: Failed to initialize Redis
2024-10-29 09:42:34,376 [ERROR] __main__:83: Failed to initialize storage manager
2024-10-29 09:42:34,383 [INFO] src.core.memory.storage.connection:149: Starting connection cleanup
2024-10-29 09:42:34,388 [INFO] src.core.memory.storage.connection:195: Connection cleanup completed
2024-10-29 09:42:34,389 [INFO] src.core.memory.storage.connection:149: Starting connection cleanup
2024-10-29 09:42:34,390 [INFO] src.core.memory.storage.connection:195: Connection cleanup completed
2024-10-29 09:42:34,390 [DEBUG] asyncio:710: Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2024-10-29 09:47:25,307 [INFO] root:577: Configuration initialized successfully
2024-10-29 09:47:25,311 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53371047973633,
    "available": 52.31462478637695
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.2567329406738
  }
}
2024-10-29 09:47:25,312 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 968103
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 958464
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 09:47:25,348 [DEBUG] asyncio:64: Using selector: EpollSelector
2024-10-29 09:47:25,350 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:47:25,351 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:47:25,352 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:47:25,355 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:47:25,357 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:47:25,358 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 09:47:25,358 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 09:47:25,361 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 09:47:25,405 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:47:25,406 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.150ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 09:47:25,407 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=13, family=2, type=1, proto=6, laddr=('127.0.0.1', 33468), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=13 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x76a531da9dc0>)
2024-10-29 09:47:25,408 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:47:25,409 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.075ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 09:47:25,409 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=14, family=2, type=1, proto=6, laddr=('127.0.0.1', 39364), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=14 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x76a531dabbc0>)
2024-10-29 09:47:25,410 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:47:25,411 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.074ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 09:47:25,411 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=15, family=2, type=1, proto=6, laddr=('127.0.0.1', 46790), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=15 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x76a531dc4950>)
2024-10-29 09:47:25,413 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:47:25,413 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.084ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 09:47:25,414 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=16, family=2, type=1, proto=6, laddr=('127.0.0.1', 42776), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=16 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x76a531dc5f70>)
2024-10-29 09:47:25,415 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:47:25,415 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.077ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 09:47:25,416 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=17, family=2, type=1, proto=6, laddr=('127.0.0.1', 60478), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=17 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x76a531dc6930>)
2024-10-29 09:47:25,420 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 09:47:25,427 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 09:47:25,516 [DEBUG] chromadb.config:317: Starting component System
2024-10-29 09:47:25,516 [DEBUG] chromadb.config:317: Starting component Posthog
2024-10-29 09:47:25,516 [DEBUG] chromadb.config:317: Starting component OpenTelemetryClient
2024-10-29 09:47:25,516 [DEBUG] chromadb.config:317: Starting component SqliteDB
2024-10-29 09:47:25,517 [DEBUG] chromadb.config:317: Starting component QuotaEnforcer
2024-10-29 09:47:25,517 [DEBUG] chromadb.config:317: Starting component SimpleRateLimitEnforcer
2024-10-29 09:47:25,517 [DEBUG] chromadb.config:317: Starting component LocalSegmentManager
2024-10-29 09:47:25,517 [DEBUG] chromadb.config:317: Starting component SegmentAPI
2024-10-29 09:47:25,519 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 09:47:25,519 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 09:47:25,521 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 09:47:25,521 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 09:47:25,523 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 09:47:25,523 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 09:47:25,525 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 09:47:25,525 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 09:47:25,526 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 09:47:25,526 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 09:47:25,528 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 09:47:25,529 [WARNING] asyncio:1981: Executing <Task pending name='Task-1' coro=<run_with_error_handling() running at /home/joker/Documents/sheppard/main.py:472> wait_for=<_GatheringFuture pending cb=[Task.task_wakeup()] created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:712> cb=[_run_until_complete_cb() at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/base_events.py:182] created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:695> took 0.102 seconds
2024-10-29 09:47:25,547 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:47:25,570 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:47:25,581 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:47:25,590 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:47:25,599 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 09:47:25,670 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:47:25,670 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:47:25,683 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:47:25,684 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:47:25,696 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:47:25,697 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:47:25,709 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 09:47:25,710 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 09:47:25,722 [INFO] src.core.memory.validation:23: Memory validation schemas initialized successfully
2024-10-29 09:47:25,726 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 09:47:25,726 [DEBUG] asyncio:881: Get address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:47:25,726 [DEBUG] asyncio:891: Getting address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1> took 0.133ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 11434, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 11434))]
2024-10-29 09:47:25,732 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=39, family=2, type=1, proto=6, laddr=('127.0.0.1', 50860), raddr=('127.0.0.1', 11434)> connected to 127.0.0.1:11434: (<_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>>, <anyio._backends._asyncio.StreamProtocol object at 0x76a527596cf0>)
2024-10-29 09:47:25,732 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 09:47:25,732 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x76a5275961b0>
2024-10-29 09:47:25,732 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:47:25,732 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:47:25,733 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:47:25,733 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:47:25,733 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:47:25,733 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 09:47:25,737 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 09:47:25,737 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:47:25 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:47:25,738 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:47:25,738 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:47:25,739 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 09:47:25,739 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 09:47:25,739 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:47:25,739 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:47:25,740 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:47:25,740 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:47:25,740 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:47:25,740 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:47:25,740 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:47:25,740 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:47:25,741 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 09:47:25,744 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 09:47:25,744 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:47:25 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:47:25,744 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:47:25,745 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:47:25,745 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 09:47:25,745 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 09:47:25,745 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:47:25,745 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:47:25,745 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:47:25,746 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:47:25,746 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:47:25,746 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:47:25,746 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:47:25,746 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:47:25,746 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 09:47:25,750 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 09:47:25,750 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:47:25 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:47:25,750 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:47:25,751 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:47:25,751 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 09:47:25,751 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 09:47:25,751 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:47:25,751 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:47:25,751 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:47:25,752 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 09:47:25,752 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 09:47:25,752 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 09:47:25,752 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 09:47:25,752 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 09:47:25,752 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 09:47:25,758 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 09:47:25,758 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 14:47:25 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 09:47:25,758 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 09:47:25,759 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 09:47:25,759 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 09:47:25,759 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 09:47:25,759 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 09:47:25,759 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 09:47:25,759 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 09:47:25,810 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:47:25,810 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.141ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 09:47:25,812 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=45, family=2, type=1, proto=6, laddr=('127.0.0.1', 33470), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=45 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x76a524bbe0c0>)
2024-10-29 09:47:25,813 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:47:25,813 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.098ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 09:47:25,814 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=46, family=2, type=1, proto=6, laddr=('127.0.0.1', 39368), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=46 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x76a524bbf2f0>)
2024-10-29 09:47:25,815 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:47:25,815 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.084ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 09:47:25,816 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=47, family=2, type=1, proto=6, laddr=('127.0.0.1', 46792), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=47 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x76a524b93bf0>)
2024-10-29 09:47:25,817 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:47:25,817 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.075ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 09:47:25,818 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=48, family=2, type=1, proto=6, laddr=('127.0.0.1', 42780), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=48 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x76a54ee9dc70>)
2024-10-29 09:47:25,819 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 09:47:25,819 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.093ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 09:47:25,820 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=49, family=2, type=1, proto=6, laddr=('127.0.0.1', 60482), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=49 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x76a524b93ec0>)
2024-10-29 09:47:25,825 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 09:47:25,830 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 09:47:25,833 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 09:47:25,833 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 09:47:25,835 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 09:47:25,835 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 09:47:25,836 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 09:47:25,836 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 09:47:25,837 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 09:47:25,837 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 09:47:25,838 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 09:47:25,838 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 09:47:25,839 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 09:47:25,893 [INFO] src.core.trust_call:45: Successfully registered schema: calculator
2024-10-29 09:47:25,894 [ERROR] src.core.sheppard.tools.manager:87: Failed to register tool implementation: calculator
2024-10-29 09:47:25,895 [ERROR] src.core.sheppard.core:107: Failed to initialize tool manager
2024-10-29 09:47:25,899 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 09:47:25,901 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 09:47:25,903 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 09:47:25,905 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 09:47:25,906 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 09:47:25,906 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 09:47:25,907 [DEBUG] asyncio:710: Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2024-10-29 09:52:30,126 [INFO] root:577: Configuration initialized successfully
2024-10-29 09:52:30,130 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53371047973633,
    "available": 52.42873001098633
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.240879058838
  }
}
2024-10-29 09:52:30,132 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17110045
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17100404
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 09:54:22,022 [INFO] root:577: Configuration initialized successfully
2024-10-29 09:54:22,026 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53371047973633,
    "available": 52.554771423339844
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.2402877807617
  }
}
2024-10-29 09:54:22,029 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17110045
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17100404
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 14:02:44,677 [INFO] root:577: Configuration initialized successfully
2024-10-29 14:02:44,695 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53369903564453,
    "available": 51.961673736572266
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.1846504211426
  }
}
2024-10-29 14:02:44,700 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17110045
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17100404
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 14:02:44,761 [DEBUG] asyncio:64: Using selector: EpollSelector
2024-10-29 14:02:44,765 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:02:44,766 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 14:02:44,766 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:02:44,770 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 14:02:44,771 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:02:44,772 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 14:02:44,772 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:02:44,776 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 14:02:44,840 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:02:44,840 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.137ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:02:44,842 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=13, family=2, type=1, proto=6, laddr=('127.0.0.1', 40600), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=13 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7ff765fa1eb0>)
2024-10-29 14:02:44,844 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:02:44,844 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.101ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:02:44,845 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=14, family=2, type=1, proto=6, laddr=('127.0.0.1', 54858), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=14 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7ff765fa3cb0>)
2024-10-29 14:02:44,846 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:02:44,846 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.077ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:02:44,847 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=15, family=2, type=1, proto=6, laddr=('127.0.0.1', 52380), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=15 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7ff765fbcad0>)
2024-10-29 14:02:44,848 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:02:44,848 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.066ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 14:02:44,849 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=16, family=2, type=1, proto=6, laddr=('127.0.0.1', 48348), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=16 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7ff765fbe1b0>)
2024-10-29 14:02:44,850 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:02:44,850 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.077ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 14:02:44,851 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=17, family=2, type=1, proto=6, laddr=('127.0.0.1', 40056), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=17 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7ff765fbeb70>)
2024-10-29 14:02:44,875 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 14:02:44,886 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 14:02:45,001 [DEBUG] chromadb.config:317: Starting component System
2024-10-29 14:02:45,001 [DEBUG] chromadb.config:317: Starting component Posthog
2024-10-29 14:02:45,001 [DEBUG] chromadb.config:317: Starting component OpenTelemetryClient
2024-10-29 14:02:45,001 [DEBUG] chromadb.config:317: Starting component SqliteDB
2024-10-29 14:02:45,009 [DEBUG] chromadb.config:317: Starting component QuotaEnforcer
2024-10-29 14:02:45,009 [DEBUG] chromadb.config:317: Starting component SimpleRateLimitEnforcer
2024-10-29 14:02:45,009 [DEBUG] chromadb.config:317: Starting component LocalSegmentManager
2024-10-29 14:02:45,009 [DEBUG] chromadb.config:317: Starting component SegmentAPI
2024-10-29 14:02:45,011 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 14:02:45,011 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 14:02:45,013 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 14:02:45,013 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 14:02:45,015 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 14:02:45,015 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 14:02:45,017 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 14:02:45,017 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 14:02:45,019 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 14:02:45,019 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 14:02:45,020 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 14:02:45,021 [WARNING] asyncio:1981: Executing <Task pending name='Task-1' coro=<run_with_error_handling() running at /home/joker/Documents/sheppard/main.py:472> wait_for=<_GatheringFuture pending cb=[Task.task_wakeup()] created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:712> cb=[_run_until_complete_cb() at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/base_events.py:182] created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:695> took 0.135 seconds
2024-10-29 14:02:45,084 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:02:45,097 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:02:45,106 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:02:45,114 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:02:45,124 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:02:45,196 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:02:45,196 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:02:45,209 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:02:45,209 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:02:45,222 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:02:45,222 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:02:45,235 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:02:45,236 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:02:45,248 [INFO] src.core.memory.validation:23: Memory validation schemas initialized successfully
2024-10-29 14:02:45,253 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 14:02:45,253 [DEBUG] asyncio:881: Get address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:02:45,253 [DEBUG] asyncio:891: Getting address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1> took 0.128ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 11434, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 11434))]
2024-10-29 14:02:45,258 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=39, family=2, type=1, proto=6, laddr=('127.0.0.1', 33982), raddr=('127.0.0.1', 11434)> connected to 127.0.0.1:11434: (<_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>>, <anyio._backends._asyncio.StreamProtocol object at 0x7ff75b78fdd0>)
2024-10-29 14:02:45,258 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:02:45,258 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7ff75b78c320>
2024-10-29 14:02:45,258 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:02:45,259 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:02:45,259 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:02:45,259 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:02:45,259 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:02:45,259 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:02:45,262 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:02:45,262 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:02:45 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:02:45,262 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:02:45,263 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:02:45,263 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:02:45,264 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:02:45,264 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:02:45,264 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:02:45,264 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:02:45,265 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:02:45,265 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:02:45,265 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:02:45,266 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:02:45,266 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:02:45,266 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:02:45,269 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:02:45,269 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:02:45 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:02:45,270 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:02:45,270 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:02:45,270 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:02:45,271 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:02:45,271 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:02:45,271 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:02:45,271 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:02:45,271 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:02:45,271 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:02:45,271 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:02:45,271 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:02:45,272 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:02:45,272 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:02:45,275 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:02:45,275 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:02:45 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:02:45,276 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:02:45,276 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:02:45,276 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:02:45,277 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:02:45,277 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:02:45,277 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:02:45,277 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:02:45,277 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:02:45,277 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:02:45,277 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:02:45,277 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:02:45,277 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:02:45,277 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:02:45,282 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:02:45,282 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:02:45 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:02:45,282 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:02:45,283 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:02:45,283 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:02:45,283 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:02:45,283 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:02:45,283 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:02:45,283 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:02:45,336 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:02:45,337 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.217ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:02:45,339 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=45, family=2, type=1, proto=6, laddr=('127.0.0.1', 40614), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=45 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7ff758db1340>)
2024-10-29 14:02:45,343 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:02:45,343 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.146ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:02:45,345 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=46, family=2, type=1, proto=6, laddr=('127.0.0.1', 54874), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=46 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7ff758db30b0>)
2024-10-29 14:02:45,348 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:02:45,349 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.080ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:02:45,350 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=47, family=2, type=1, proto=6, laddr=('127.0.0.1', 52386), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=47 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7ff758db0680>)
2024-10-29 14:02:45,351 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:02:45,351 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.051ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 14:02:45,352 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=48, family=2, type=1, proto=6, laddr=('127.0.0.1', 48354), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=48 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7ff765fa1220>)
2024-10-29 14:02:45,353 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:02:45,353 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.036ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 14:02:45,354 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=49, family=2, type=1, proto=6, laddr=('127.0.0.1', 40068), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=49 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7ff75b78deb0>)
2024-10-29 14:02:45,359 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 14:02:45,368 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 14:02:45,372 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 14:02:45,372 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 14:02:45,374 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 14:02:45,374 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 14:02:45,375 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 14:02:45,375 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 14:02:45,376 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 14:02:45,376 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 14:02:45,377 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 14:02:45,378 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 14:02:45,378 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 14:02:45,442 [INFO] src.core.trust_call:45: Successfully registered schema: calculator
2024-10-29 14:02:45,443 [ERROR] src.core.sheppard.tools.manager:87: Failed to register tool implementation: calculator
2024-10-29 14:02:45,443 [ERROR] src.core.sheppard.core:107: Failed to initialize tool manager
2024-10-29 14:02:45,445 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:02:45,450 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:02:45,451 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:02:45,452 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:02:45,452 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:02:45,455 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:02:45,456 [DEBUG] asyncio:710: Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2024-10-29 14:04:29,032 [INFO] root:577: Configuration initialized successfully
2024-10-29 14:04:29,037 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53369903564453,
    "available": 52.03192901611328
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.183250427246
  }
}
2024-10-29 14:04:29,040 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17171487
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17161844
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 14:04:29,079 [DEBUG] asyncio:64: Using selector: EpollSelector
2024-10-29 14:04:29,080 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:04:29,081 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 14:04:29,081 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:04:29,085 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 14:04:29,087 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:04:29,087 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 14:04:29,088 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:04:29,092 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 14:04:29,139 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:04:29,140 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.143ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:04:29,141 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=13, family=2, type=1, proto=6, laddr=('127.0.0.1', 38274), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=13 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7bb19f58ae40>)
2024-10-29 14:04:29,142 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:04:29,142 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.088ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:04:29,143 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=14, family=2, type=1, proto=6, laddr=('127.0.0.1', 49846), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=14 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7bb18b983f50>)
2024-10-29 14:04:29,144 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:04:29,144 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.083ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:04:29,145 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=15, family=2, type=1, proto=6, laddr=('127.0.0.1', 56916), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=15 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7bb18b9b8cb0>)
2024-10-29 14:04:29,147 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:04:29,147 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.082ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 14:04:29,148 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=16, family=2, type=1, proto=6, laddr=('127.0.0.1', 36616), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=16 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7bb18b9ba390>)
2024-10-29 14:04:29,149 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:04:29,149 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.058ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 14:04:29,150 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=17, family=2, type=1, proto=6, laddr=('127.0.0.1', 35944), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=17 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7bb18b9bad50>)
2024-10-29 14:04:29,154 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 14:04:29,161 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 14:04:29,250 [DEBUG] chromadb.config:317: Starting component System
2024-10-29 14:04:29,250 [DEBUG] chromadb.config:317: Starting component Posthog
2024-10-29 14:04:29,250 [DEBUG] chromadb.config:317: Starting component OpenTelemetryClient
2024-10-29 14:04:29,250 [DEBUG] chromadb.config:317: Starting component SqliteDB
2024-10-29 14:04:29,251 [DEBUG] chromadb.config:317: Starting component QuotaEnforcer
2024-10-29 14:04:29,251 [DEBUG] chromadb.config:317: Starting component SimpleRateLimitEnforcer
2024-10-29 14:04:29,251 [DEBUG] chromadb.config:317: Starting component LocalSegmentManager
2024-10-29 14:04:29,251 [DEBUG] chromadb.config:317: Starting component SegmentAPI
2024-10-29 14:04:29,253 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 14:04:29,253 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 14:04:29,255 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 14:04:29,255 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 14:04:29,257 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 14:04:29,257 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 14:04:29,259 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 14:04:29,259 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 14:04:29,260 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 14:04:29,261 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 14:04:29,262 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 14:04:29,263 [WARNING] asyncio:1981: Executing <Task pending name='Task-1' coro=<run_with_error_handling() running at /home/joker/Documents/sheppard/main.py:472> wait_for=<_GatheringFuture pending cb=[Task.task_wakeup()] created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:712> cb=[_run_until_complete_cb() at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/base_events.py:182] created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:695> took 0.102 seconds
2024-10-29 14:04:29,280 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:04:29,297 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:04:29,307 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:04:29,317 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:04:29,326 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:04:29,397 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:04:29,398 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:04:29,411 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:04:29,411 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:04:29,424 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:04:29,424 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:04:29,437 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:04:29,438 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:04:29,450 [INFO] src.core.memory.validation:23: Memory validation schemas initialized successfully
2024-10-29 14:04:29,454 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 14:04:29,454 [DEBUG] asyncio:881: Get address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:04:29,454 [DEBUG] asyncio:891: Getting address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1> took 0.107ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 11434, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 11434))]
2024-10-29 14:04:29,457 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=39, family=2, type=1, proto=6, laddr=('127.0.0.1', 33154), raddr=('127.0.0.1', 11434)> connected to 127.0.0.1:11434: (<_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>>, <anyio._backends._asyncio.StreamProtocol object at 0x7bb18117a9f0>)
2024-10-29 14:04:29,457 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:04:29,457 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7bb18117a000>
2024-10-29 14:04:29,457 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:04:29,457 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:04:29,457 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:04:29,457 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:04:29,457 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:04:29,458 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:04:29,461 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:04:29,461 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:04:29 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:04:29,461 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:04:29,462 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:04:29,462 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:04:29,463 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:04:29,463 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:04:29,463 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:04:29,463 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:04:29,463 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:04:29,464 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:04:29,464 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:04:29,464 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:04:29,464 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:04:29,464 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:04:29,468 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:04:29,468 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:04:29 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:04:29,468 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:04:29,469 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:04:29,469 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:04:29,469 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:04:29,469 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:04:29,470 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:04:29,470 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:04:29,470 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:04:29,470 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:04:29,470 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:04:29,470 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:04:29,470 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:04:29,470 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:04:29,473 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:04:29,473 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:04:29 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:04:29,474 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:04:29,474 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:04:29,474 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:04:29,474 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:04:29,475 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:04:29,475 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:04:29,475 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:04:29,475 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:04:29,475 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:04:29,475 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:04:29,475 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:04:29,475 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:04:29,475 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:04:29,479 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:04:29,479 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:04:29 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:04:29,479 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:04:29,480 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:04:29,480 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:04:29,480 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:04:29,480 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:04:29,480 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:04:29,480 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:04:29,533 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:04:29,534 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.178ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:04:29,535 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=45, family=2, type=1, proto=6, laddr=('127.0.0.1', 38286), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=45 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7bb17e7b2030>)
2024-10-29 14:04:29,536 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:04:29,537 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.104ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:04:29,537 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=46, family=2, type=1, proto=6, laddr=('127.0.0.1', 49848), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=46 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7bb17e7b2f30>)
2024-10-29 14:04:29,540 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:04:29,540 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.086ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:04:29,541 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=47, family=2, type=1, proto=6, laddr=('127.0.0.1', 56924), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=47 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7bb1811b7f20>)
2024-10-29 14:04:29,542 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:04:29,542 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.079ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 14:04:29,543 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=48, family=2, type=1, proto=6, laddr=('127.0.0.1', 36628), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=48 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7bb181154c80>)
2024-10-29 14:04:29,544 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:04:29,544 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.069ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 14:04:29,545 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=49, family=2, type=1, proto=6, laddr=('127.0.0.1', 35956), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=49 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7bb181179a60>)
2024-10-29 14:04:29,551 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 14:04:29,557 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 14:04:29,559 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 14:04:29,559 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 14:04:29,560 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 14:04:29,561 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 14:04:29,562 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 14:04:29,562 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 14:04:29,563 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 14:04:29,563 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 14:04:29,564 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 14:04:29,564 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 14:04:29,565 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 14:04:29,618 [INFO] src.core.trust_call:45: Successfully registered schema: calculator
2024-10-29 14:04:29,619 [ERROR] src.core.sheppard.tools.manager:161: Error registering tool calculator: object bool can't be used in 'await' expression
2024-10-29 14:04:29,620 [ERROR] src.core.sheppard.tools.manager:89: Failed to register tool implementation: calculator
2024-10-29 14:04:29,621 [ERROR] src.core.sheppard.core:107: Failed to initialize tool manager
2024-10-29 14:04:29,622 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:04:29,625 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:04:29,627 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:04:29,629 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:04:29,630 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:04:29,630 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:04:29,631 [DEBUG] asyncio:710: Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2024-10-29 14:05:56,963 [INFO] root:577: Configuration initialized successfully
2024-10-29 14:05:56,968 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53369903564453,
    "available": 51.6242561340332
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.1818885803223
  }
}
2024-10-29 14:05:56,972 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17232929
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17223284
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 14:05:57,016 [DEBUG] asyncio:64: Using selector: EpollSelector
2024-10-29 14:05:57,018 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:05:57,019 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 14:05:57,019 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:05:57,024 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 14:05:57,026 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:05:57,027 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 14:05:57,027 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:05:57,032 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 14:05:57,105 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:05:57,106 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.313ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:05:57,109 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=13, family=2, type=1, proto=6, laddr=('127.0.0.1', 34818), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=13 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7b57a5ba1e20>)
2024-10-29 14:05:57,111 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:05:57,111 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.160ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:05:57,112 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=14, family=2, type=1, proto=6, laddr=('127.0.0.1', 52710), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=14 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7b57a5ba3da0>)
2024-10-29 14:05:57,114 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:05:57,114 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.086ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:05:57,115 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=15, family=2, type=1, proto=6, laddr=('127.0.0.1', 44924), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=15 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7b57a5bc0b00>)
2024-10-29 14:05:57,118 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:05:57,118 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.062ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 14:05:57,119 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=16, family=2, type=1, proto=6, laddr=('127.0.0.1', 35738), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=16 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7b57a5bc2120>)
2024-10-29 14:05:57,120 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:05:57,120 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.045ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 14:05:57,121 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=17, family=2, type=1, proto=6, laddr=('127.0.0.1', 33572), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=17 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7b57a5bc2a80>)
2024-10-29 14:05:57,127 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 14:05:57,136 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 14:05:57,220 [DEBUG] chromadb.config:317: Starting component System
2024-10-29 14:05:57,220 [DEBUG] chromadb.config:317: Starting component Posthog
2024-10-29 14:05:57,220 [DEBUG] chromadb.config:317: Starting component OpenTelemetryClient
2024-10-29 14:05:57,220 [DEBUG] chromadb.config:317: Starting component SqliteDB
2024-10-29 14:05:57,221 [DEBUG] chromadb.config:317: Starting component QuotaEnforcer
2024-10-29 14:05:57,221 [DEBUG] chromadb.config:317: Starting component SimpleRateLimitEnforcer
2024-10-29 14:05:57,221 [DEBUG] chromadb.config:317: Starting component LocalSegmentManager
2024-10-29 14:05:57,221 [DEBUG] chromadb.config:317: Starting component SegmentAPI
2024-10-29 14:05:57,222 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 14:05:57,222 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 14:05:57,224 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 14:05:57,224 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 14:05:57,226 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 14:05:57,226 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 14:05:57,229 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 14:05:57,229 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 14:05:57,231 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 14:05:57,231 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 14:05:57,232 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 14:05:57,253 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:05:58,261 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:05:58,270 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:05:58,280 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:05:58,289 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:05:58,297 [WARNING] asyncio:1981: Executing <Task finished name='Task-4' coro=<StorageManager._validate_with_timeout() done, defined at /home/joker/Documents/sheppard/src/core/memory/storage/storage_manager.py:129> result=True created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:695> took 1.055 seconds
2024-10-29 14:05:58,358 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:05:58,358 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:05:58,375 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:05:58,375 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:05:58,389 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:05:58,389 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:05:58,402 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:05:58,402 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:05:58,415 [INFO] src.core.memory.validation:23: Memory validation schemas initialized successfully
2024-10-29 14:05:58,419 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 14:05:58,419 [DEBUG] asyncio:881: Get address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:05:58,419 [DEBUG] asyncio:891: Getting address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1> took 0.116ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 11434, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 11434))]
2024-10-29 14:05:58,421 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=39, family=2, type=1, proto=6, laddr=('127.0.0.1', 42306), raddr=('127.0.0.1', 11434)> connected to 127.0.0.1:11434: (<_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>>, <anyio._backends._asyncio.StreamProtocol object at 0x7b579738e990>)
2024-10-29 14:05:58,421 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:05:58,422 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7b579737f170>
2024-10-29 14:05:58,422 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:05:58,422 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:05:58,422 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:05:58,422 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:05:58,422 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:05:58,422 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:05:58,427 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:05:58,427 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:05:58 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:05:58,428 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:05:58,429 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:05:58,429 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:05:58,429 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:05:58,429 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:05:58,429 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:05:58,429 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:05:58,430 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:05:58,430 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:05:58,430 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:05:58,430 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:05:58,430 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:05:58,430 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:05:58,435 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:05:58,435 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:05:58 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:05:58,435 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:05:58,436 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:05:58,436 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:05:58,436 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:05:58,436 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:05:58,436 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:05:58,436 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:05:58,437 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:05:58,437 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:05:58,437 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:05:58,437 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:05:58,437 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:05:58,437 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:05:58,442 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:05:58,442 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:05:58 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:05:58,442 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:05:58,442 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:05:58,443 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:05:58,443 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:05:58,443 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:05:58,443 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:05:58,443 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:05:58,443 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:05:58,444 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:05:58,444 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:05:58,444 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:05:58,444 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:05:58,444 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:05:58,447 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:05:58,447 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:05:58 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:05:58,447 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:05:58,448 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:05:58,448 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:05:58,448 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:05:58,448 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:05:58,448 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:05:58,448 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:05:58,499 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:05:58,499 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.096ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:05:58,501 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=45, family=2, type=1, proto=6, laddr=('127.0.0.1', 34834), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=45 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7b57949b22a0>)
2024-10-29 14:05:58,504 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:05:58,504 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.072ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:05:58,505 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=46, family=2, type=1, proto=6, laddr=('127.0.0.1', 52716), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=46 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7b57949b3470>)
2024-10-29 14:05:58,507 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:05:58,507 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.064ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:05:58,508 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=47, family=2, type=1, proto=6, laddr=('127.0.0.1', 44930), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=47 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7b5794980920>)
2024-10-29 14:05:58,512 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:05:58,512 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.110ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 14:05:58,513 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=48, family=2, type=1, proto=6, laddr=('127.0.0.1', 35750), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=48 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7b57949b0500>)
2024-10-29 14:05:58,515 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:05:58,515 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.058ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 14:05:58,516 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=49, family=2, type=1, proto=6, laddr=('127.0.0.1', 33578), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=49 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7b5794980ec0>)
2024-10-29 14:05:58,522 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 14:05:58,530 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 14:05:58,532 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 14:05:58,532 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 14:05:58,533 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 14:05:58,533 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 14:05:58,534 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 14:05:58,534 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 14:05:58,535 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 14:05:58,535 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 14:05:58,536 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 14:05:58,536 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 14:05:58,537 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 14:05:58,597 [INFO] src.core.trust_call:45: Successfully registered schema: calculator
2024-10-29 14:05:58,597 [ERROR] src.core.sheppard.tools.manager:95: Failed to register tool with TrustCall: calculator
2024-10-29 14:05:58,598 [ERROR] src.core.sheppard.core:107: Failed to initialize tool manager
2024-10-29 14:05:58,601 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:05:58,604 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:05:58,605 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:05:58,607 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:05:58,608 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:05:58,608 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:05:58,609 [DEBUG] asyncio:710: Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2024-10-29 14:12:30,119 [INFO] root:577: Configuration initialized successfully
2024-10-29 14:12:30,123 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53369903564453,
    "available": 51.733642578125
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.180320739746
  }
}
2024-10-29 14:12:30,126 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17294371
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17284724
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 14:16:48,981 [INFO] root:577: Configuration initialized successfully
2024-10-29 14:16:48,985 [INFO] root:578: Environment: {
  "python_version": "3.12.7",
  "platform": "Linux-6.9.3-76060903-generic-x86_64-with-glibc2.35",
  "processor": "x86_64",
  "memory": {
    "total": 62.53369903564453,
    "available": 51.66356658935547
  },
  "disk": {
    "total": 3657.5893211364746,
    "free": 1216.178913116455
  }
}
2024-10-29 14:16:48,986 [INFO] root:579: Configuration Stats: {
  "directories": {
    "DATA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17294371
    },
    "CONVERSATIONS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "CHROMA_DIR": {
      "exists": true,
      "writable": true,
      "size": 17284724
    },
    "EMBEDDINGS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "STATS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "TOOLS_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    },
    "MEMORY_DIR": {
      "exists": true,
      "writable": true,
      "size": 0
    }
  },
  "database_count": 5,
  "redis_instances": 5,
  "memory_settings": {
    "cache_size": 1000,
    "importance_threshold": 0.5,
    "similarity_threshold": 0.7,
    "retention_period_days": 30,
    "vacuum_threshold": 10000,
    "max_batch_size": 1000,
    "cleanup_interval": 3600,
    "max_memory_size": "2GB",
    "embedding_batch_size": 32,
    "max_context_length": 4000
  },
  "model_configurations": {
    "main_chat": {
      "name": "llama3.1",
      "tag": "latest",
      "context_length": 4096
    },
    "short_context": {
      "name": "llama3.2",
      "tag": "latest",
      "context_length": 2048
    },
    "long_context": {
      "name": "mistral-nemo",
      "tag": "latest",
      "context_length": 8192
    },
    "embedding": {
      "name": "nomic-embed-text",
      "tag": "latest",
      "embedding_dim": 768
    }
  },
  "enabled_tools": [
    "calculator",
    "search",
    "summarizer",
    "sentiment",
    "entity_extractor"
  ]
}
2024-10-29 14:16:49,025 [DEBUG] asyncio:64: Using selector: EpollSelector
2024-10-29 14:16:49,027 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:16:49,028 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 14:16:49,028 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:16:49,032 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 14:16:49,034 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:16:49,035 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/version HTTP/11" 200 19
2024-10-29 14:16:49,035 [DEBUG] urllib3.connectionpool:243: Starting new HTTP connection (1): localhost:11434
2024-10-29 14:16:49,038 [DEBUG] urllib3.connectionpool:546: http://localhost:11434 "GET /api/tags HTTP/11" 200 None
2024-10-29 14:16:49,102 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:16:49,103 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.145ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:16:49,105 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=13, family=2, type=1, proto=6, laddr=('127.0.0.1', 35062), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=13 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2c6d5a660>)
2024-10-29 14:16:49,107 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:16:49,107 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.073ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:16:49,108 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=14, family=2, type=1, proto=6, laddr=('127.0.0.1', 35228), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=14 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2c6d5bf50>)
2024-10-29 14:16:49,109 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:16:49,110 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.039ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:16:49,110 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=15, family=2, type=1, proto=6, laddr=('127.0.0.1', 52816), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=15 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2c6dc0ce0>)
2024-10-29 14:16:49,111 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:16:49,111 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.036ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 14:16:49,112 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=16, family=2, type=1, proto=6, laddr=('127.0.0.1', 54112), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=16 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2c6dc23f0>)
2024-10-29 14:16:49,113 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:16:49,113 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.028ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 14:16:49,114 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=17, family=2, type=1, proto=6, laddr=('127.0.0.1', 40164), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=17 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2c6dc3500>)
2024-10-29 14:16:49,119 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 14:16:49,125 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 14:16:49,204 [DEBUG] chromadb.config:317: Starting component System
2024-10-29 14:16:49,204 [DEBUG] chromadb.config:317: Starting component Posthog
2024-10-29 14:16:49,204 [DEBUG] chromadb.config:317: Starting component OpenTelemetryClient
2024-10-29 14:16:49,204 [DEBUG] chromadb.config:317: Starting component SqliteDB
2024-10-29 14:16:49,205 [DEBUG] chromadb.config:317: Starting component QuotaEnforcer
2024-10-29 14:16:49,205 [DEBUG] chromadb.config:317: Starting component SimpleRateLimitEnforcer
2024-10-29 14:16:49,205 [DEBUG] chromadb.config:317: Starting component LocalSegmentManager
2024-10-29 14:16:49,205 [DEBUG] chromadb.config:317: Starting component SegmentAPI
2024-10-29 14:16:49,207 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 14:16:49,207 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 14:16:49,209 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 14:16:49,209 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 14:16:49,210 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 14:16:49,210 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 14:16:49,212 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 14:16:49,212 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 14:16:49,214 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 14:16:49,214 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 14:16:49,215 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 14:16:49,233 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:16:49,243 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:16:49,256 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:16:49,267 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:16:49,276 [DEBUG] chromadb.config:317: Starting component PersistentLocalHnswSegment
2024-10-29 14:16:49,346 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:16:49,346 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:16:49,359 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:16:49,360 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:16:49,376 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:16:49,376 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:16:49,393 [DEBUG] httpx:82: load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-29 14:16:49,394 [DEBUG] httpx:148: load_verify_locations cafile='/home/joker/miniconda3/envs/cust/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-29 14:16:49,406 [INFO] src.core.memory.validation:23: Memory validation schemas initialized successfully
2024-10-29 14:16:49,410 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 14:16:49,410 [DEBUG] asyncio:881: Get address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:16:49,410 [DEBUG] asyncio:891: Getting address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1> took 0.115ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 11434, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 11434))]
2024-10-29 14:16:49,413 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=39, family=2, type=1, proto=6, laddr=('127.0.0.1', 41036), raddr=('127.0.0.1', 11434)> connected to 127.0.0.1:11434: (<_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>>, <anyio._backends._asyncio.StreamProtocol object at 0x7dd2b8599e50>)
2024-10-29 14:16:49,413 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:16:49,413 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7dd2b8598170>
2024-10-29 14:16:49,413 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:16:49,413 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:16:49,413 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:16:49,413 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:16:49,413 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:16:49,414 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:16:49,417 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:16:49,417 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:16:49 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:16:49,417 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:16:49,418 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:16:49,418 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:16:49,418 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:16:49,418 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:16:49,418 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:16:49,418 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:16:49,419 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:16:49,419 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:16:49,419 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:16:49,419 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:16:49,419 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:16:49,419 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:16:49,423 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:16:49,423 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:16:49 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:16:49,423 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:16:49,424 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:16:49,424 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:16:49,424 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:16:49,424 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:16:49,424 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:16:49,424 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:16:49,425 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:16:49,425 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:16:49,425 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:16:49,425 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:16:49,425 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:16:49,425 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:16:49,428 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:16:49,428 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:16:49 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:16:49,428 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:16:49,429 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:16:49,429 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:16:49,429 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:16:49,429 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:16:49,429 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:16:49,429 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:16:49,429 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'GET']>
2024-10-29 14:16:49,430 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:16:49,430 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'GET']>
2024-10-29 14:16:49,430 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:16:49,430 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'GET']>
2024-10-29 14:16:49,430 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:16:49,432 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:16:49,433 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:16:49 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:16:49,433 [INFO] httpx:1786: HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2024-10-29 14:16:49,433 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'GET']>
2024-10-29 14:16:49,433 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:16:49,434 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:16:49,434 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:16:49,434 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:16:49,434 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:16:49,504 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:16:49,504 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.148ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:16:49,506 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=45, family=2, type=1, proto=6, laddr=('127.0.0.1', 35068), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=45 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2b7b9ca40>)
2024-10-29 14:16:49,509 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:16:49,509 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.126ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:16:49,510 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=46, family=2, type=1, proto=6, laddr=('127.0.0.1', 35234), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=46 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2b7b9d8b0>)
2024-10-29 14:16:49,515 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:16:49,515 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.138ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:16:49,517 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=47, family=2, type=1, proto=6, laddr=('127.0.0.1', 52822), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=47 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2b7b9ea20>)
2024-10-29 14:16:49,521 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:16:49,521 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.105ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 14:16:49,523 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=48, family=2, type=1, proto=6, laddr=('127.0.0.1', 54128), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=48 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2b7b9c7d0>)
2024-10-29 14:16:49,525 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:16:49,525 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.069ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 14:16:49,526 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=49, family=2, type=1, proto=6, laddr=('127.0.0.1', 40168), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=49 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2b7b9eed0>)
2024-10-29 14:16:49,532 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 14:16:49,543 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 14:16:49,547 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 14:16:49,547 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 14:16:49,548 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 14:16:49,548 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 14:16:49,550 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 14:16:49,550 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 14:16:49,551 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 14:16:49,551 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 14:16:49,552 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 14:16:49,552 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 14:16:49,552 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 14:16:49,603 [INFO] src.core.trust_call:47: Successfully registered schema: calculator
2024-10-29 14:16:49,604 [INFO] src.core.trust_call:218: Successfully registered tool: calculator
2024-10-29 14:16:49,605 [INFO] src.core.trust_call:47: Successfully registered schema: search
2024-10-29 14:16:49,605 [INFO] src.core.trust_call:218: Successfully registered tool: search
2024-10-29 14:16:49,606 [INFO] src.core.trust_call:47: Successfully registered schema: summarizer
2024-10-29 14:16:49,607 [INFO] src.core.trust_call:218: Successfully registered tool: summarizer
2024-10-29 14:16:49,607 [INFO] src.core.sheppard.tools.manager:109: Tool manager initialized successfully
2024-10-29 14:16:49,608 [INFO] src.core.sheppard.core:114:  Sheppard initialized successfully
2024-10-29 14:16:50,640 [WARNING] asyncio:1981: Executing <Task pending name='Task-15' coro=<SheppardApp._periodic_health_check() running at /home/joker/Documents/sheppard/main.py:332> wait_for=<Future pending cb=[Task.task_wakeup()] created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/base_events.py:449> created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:420> took 1.019 seconds
2024-10-29 14:17:42,094 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 14:17:42,094 [DEBUG] asyncio:881: Get address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:17:42,094 [DEBUG] asyncio:891: Getting address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1> took 0.125ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 11434, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 11434))]
2024-10-29 14:17:42,095 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=50, family=2, type=1, proto=6, laddr=('127.0.0.1', 50012), raddr=('127.0.0.1', 11434)> connected to 127.0.0.1:11434: (<_SelectorSocketTransport fd=50 read=polling write=<idle, bufsize=0>>, <anyio._backends._asyncio.StreamProtocol object at 0x7dd2b3160fe0>)
2024-10-29 14:17:42,095 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=50 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:17:42,096 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7dd2b85385f0>
2024-10-29 14:17:42,096 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'POST']>
2024-10-29 14:17:42,096 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:17:42,096 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'POST']>
2024-10-29 14:17:42,096 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:17:42,096 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'POST']>
2024-10-29 14:17:42,096 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=50 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:17:43,589 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=50 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:17:43,591 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:17:43 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:17:43,591 [INFO] httpx:1786: HTTP Request: POST http://localhost:11434/api/embeddings "HTTP/1.1 200 OK"
2024-10-29 14:17:43,595 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'POST']>
2024-10-29 14:17:43,596 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=50 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:17:43,597 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=50 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:17:43,597 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:17:43,598 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:17:43,598 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:17:43,599 [INFO] src.core.sheppard.memory_ops:88: All memory connections validated successfully
2024-10-29 14:17:43,603 [DEBUG] httpcore.connection:85: close.started
2024-10-29 14:17:43,603 [DEBUG] httpcore.connection:85: close.complete
2024-10-29 14:17:43,604 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 14:17:43,604 [DEBUG] asyncio:881: Get address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:17:43,604 [DEBUG] asyncio:891: Getting address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1> took 0.351ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 11434, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 11434))]
2024-10-29 14:17:43,607 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=39, family=2, type=1, proto=6, laddr=('127.0.0.1', 50024), raddr=('127.0.0.1', 11434)> connected to 127.0.0.1:11434: (<_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>>, <anyio._backends._asyncio.StreamProtocol object at 0x7dd2add096a0>)
2024-10-29 14:17:43,608 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:17:43,608 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7dd2add0aa50>
2024-10-29 14:17:43,608 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'POST']>
2024-10-29 14:17:43,609 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:17:43,609 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'POST']>
2024-10-29 14:17:43,609 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:17:43,609 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'POST']>
2024-10-29 14:17:43,609 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:17:48,066 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:17:48,066 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:17:48 GMT'), (b'Content-Length', b'315')])
2024-10-29 14:17:48,066 [INFO] httpx:1786: HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2024-10-29 14:17:48,067 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'POST']>
2024-10-29 14:17:48,067 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:17:48,067 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:17:48,067 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:17:48,068 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'POST']>
2024-10-29 14:17:48,068 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:17:48,068 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'POST']>
2024-10-29 14:17:48,068 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:17:48,068 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'POST']>
2024-10-29 14:17:48,068 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=50 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:17:48,116 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=50 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:17:48,116 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:17:48 GMT'), (b'Transfer-Encoding', b'chunked')])
2024-10-29 14:17:48,116 [INFO] httpx:1786: HTTP Request: POST http://localhost:11434/api/embeddings "HTTP/1.1 200 OK"
2024-10-29 14:17:48,117 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'POST']>
2024-10-29 14:17:48,117 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:17:48,117 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:17:48,117 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:17:48,121 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'POST']>
2024-10-29 14:17:48,121 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:17:48,121 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'POST']>
2024-10-29 14:17:48,121 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:17:48,121 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'POST']>
2024-10-29 14:17:48,122 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:17:49,689 [INFO] src.core.sheppard.memory_ops:88: All memory connections validated successfully
2024-10-29 14:17:49,690 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 14:17:49,690 [DEBUG] asyncio:881: Get address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:17:49,690 [DEBUG] asyncio:891: Getting address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1> took 0.098ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 11434, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 11434))]
2024-10-29 14:17:49,692 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=51, family=2, type=1, proto=6, laddr=('127.0.0.1', 34796), raddr=('127.0.0.1', 11434)> connected to 127.0.0.1:11434: (<_SelectorSocketTransport fd=51 read=polling write=<idle, bufsize=0>>, <anyio._backends._asyncio.StreamProtocol object at 0x7dd2add09580>)
2024-10-29 14:17:49,692 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=51 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:17:49,692 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7dd2b8558890>
2024-10-29 14:17:49,692 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'POST']>
2024-10-29 14:17:49,693 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:17:49,693 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'POST']>
2024-10-29 14:17:49,693 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:17:49,693 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'POST']>
2024-10-29 14:17:49,693 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=51 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:17:50,023 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=51 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:17:50,023 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:17:50 GMT'), (b'Content-Length', b'356')])
2024-10-29 14:17:50,023 [INFO] httpx:1786: HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2024-10-29 14:17:50,024 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'POST']>
2024-10-29 14:17:50,024 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:17:50,024 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:17:50,024 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:17:51,670 [WARNING] asyncio:1981: Executing <Task pending name='Task-15' coro=<SheppardApp._periodic_health_check() running at /home/joker/Documents/sheppard/main.py:332> wait_for=<Future pending cb=[Task.task_wakeup()] created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/base_events.py:449> created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:420> took 1.027 seconds
2024-10-29 14:17:51,672 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:17:51,672 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:17:51 GMT'), (b'Content-Length', b'1646')])
2024-10-29 14:17:51,672 [INFO] httpx:1786: HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2024-10-29 14:17:51,672 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'POST']>
2024-10-29 14:17:51,673 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:17:51,673 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:17:51,673 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:17:51,673 [ERROR] src.core.sheppard.tools.manager:394: Failed to parse tool analysis response
2024-10-29 14:17:51,674 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'POST']>
2024-10-29 14:17:51,674 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:17:51,674 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'POST']>
2024-10-29 14:17:51,674 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:17:51,674 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'POST']>
2024-10-29 14:17:51,674 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:18:03,253 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:18:03,254 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:18:03 GMT'), (b'Content-Length', b'1041')])
2024-10-29 14:18:03,254 [INFO] httpx:1786: HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2024-10-29 14:18:03,255 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'POST']>
2024-10-29 14:18:03,255 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:18:03,255 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:18:03,255 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:18:03,255 [DEBUG] httpcore.connection:85: close.started
2024-10-29 14:18:03,255 [DEBUG] httpcore.connection:85: close.complete
2024-10-29 14:18:03,260 [ERROR] src.core.memory.storage.connection:76: No pool found for database: episodic
2024-10-29 14:18:03,264 [ERROR] src.core.memory.storage.connection:76: No pool found for database: semantic
2024-10-29 14:18:03,268 [ERROR] src.core.memory.storage.connection:76: No pool found for database: contextual
2024-10-29 14:18:04,284 [ERROR] src.core.memory.storage.connection:76: No pool found for database: episodic
2024-10-29 14:18:04,528 [WARNING] asyncio:1981: Executing <Task finished name='Task-925' coro=<StorageManager._store_with_timeout() done, defined at /home/joker/Documents/sheppard/src/core/memory/storage/storage_manager.py:237> result=True created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:695> took 0.241 seconds
2024-10-29 14:18:04,529 [ERROR] src.core.memory.storage.connection:76: No pool found for database: semantic
2024-10-29 14:18:04,534 [ERROR] src.core.memory.storage.connection:76: No pool found for database: contextual
2024-10-29 14:18:06,551 [ERROR] src.core.memory.storage.connection:76: No pool found for database: episodic
2024-10-29 14:18:06,870 [WARNING] asyncio:1981: Executing <Task finished name='Task-934' coro=<StorageManager._store_with_timeout() done, defined at /home/joker/Documents/sheppard/src/core/memory/storage/storage_manager.py:237> result=True created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:695> took 0.317 seconds
2024-10-29 14:18:06,871 [ERROR] src.core.memory.storage.connection:76: No pool found for database: semantic
2024-10-29 14:18:06,877 [ERROR] src.core.memory.storage.connection:76: No pool found for database: contextual
2024-10-29 14:18:06,885 [INFO] src.core.sheppard.core:309: Processing completed in 24.86 seconds
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.code:10: entering code: StateBlock(line=0,level=0,tokens=0), 0, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=0,level=0,tokens=0), 0, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=0,level=0,tokens=0), 0, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=0,level=0,tokens=0), 0, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.list:102: entering list: StateBlock(line=0,level=0,tokens=0), 0, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.reference:10: entering reference: StateBlock(line=0,level=0,tokens=0), 0, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.html_block:35: entering html_block: StateBlock(line=0,level=0,tokens=0), 0, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.heading:13: entering heading: StateBlock(line=0,level=0,tokens=0), 0, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.lheading:10: entering lheading: StateBlock(line=0,level=0,tokens=0), 0, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.paragraph:10: entering paragraph: StateBlock(line=0,level=0,tokens=0), 0, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.code:10: entering code: StateBlock(line=2,level=0,tokens=3), 2, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=2,level=0,tokens=3), 2, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=2,level=0,tokens=3), 2, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=2,level=0,tokens=3), 2, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.list:102: entering list: StateBlock(line=2,level=0,tokens=3), 2, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.reference:10: entering reference: StateBlock(line=2,level=0,tokens=3), 2, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.html_block:35: entering html_block: StateBlock(line=2,level=0,tokens=3), 2, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.heading:13: entering heading: StateBlock(line=2,level=0,tokens=3), 2, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.lheading:10: entering lheading: StateBlock(line=2,level=0,tokens=3), 2, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.paragraph:10: entering paragraph: StateBlock(line=2,level=0,tokens=3), 2, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.code:10: entering code: StateBlock(line=4,level=0,tokens=6), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=4,level=0,tokens=6), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=4,level=0,tokens=6), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=4,level=0,tokens=6), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.list:102: entering list: StateBlock(line=4,level=0,tokens=6), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.code:10: entering code: StateBlock(line=4,level=2,tokens=8), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=4,level=2,tokens=8), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=4,level=2,tokens=8), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=4,level=2,tokens=8), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.list:102: entering list: StateBlock(line=4,level=2,tokens=8), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.reference:10: entering reference: StateBlock(line=4,level=2,tokens=8), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.html_block:35: entering html_block: StateBlock(line=4,level=2,tokens=8), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.heading:13: entering heading: StateBlock(line=4,level=2,tokens=8), 4, 9, False
2024-10-29 14:18:06,886 [DEBUG] markdown_it.rules_block.lheading:10: entering lheading: StateBlock(line=4,level=2,tokens=8), 4, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=4,level=2,tokens=8), 5, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=4,level=2,tokens=8), 5, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=4,level=2,tokens=8), 5, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.list:102: entering list: StateBlock(line=4,level=2,tokens=8), 5, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.paragraph:10: entering paragraph: StateBlock(line=4,level=2,tokens=8), 4, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=4,level=2,tokens=8), 5, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=4,level=2,tokens=8), 5, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=4,level=2,tokens=8), 5, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.list:102: entering list: StateBlock(line=4,level=2,tokens=8), 5, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=5,level=1,tokens=12), 5, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=5,level=1,tokens=12), 5, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=5,level=1,tokens=12), 5, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.code:10: entering code: StateBlock(line=5,level=2,tokens=13), 5, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=5,level=2,tokens=13), 5, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=5,level=2,tokens=13), 5, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=5,level=2,tokens=13), 5, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.list:102: entering list: StateBlock(line=5,level=2,tokens=13), 5, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.reference:10: entering reference: StateBlock(line=5,level=2,tokens=13), 5, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.html_block:35: entering html_block: StateBlock(line=5,level=2,tokens=13), 5, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.heading:13: entering heading: StateBlock(line=5,level=2,tokens=13), 5, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.lheading:10: entering lheading: StateBlock(line=5,level=2,tokens=13), 5, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=5,level=2,tokens=13), 6, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=5,level=2,tokens=13), 6, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=5,level=2,tokens=13), 6, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.list:102: entering list: StateBlock(line=5,level=2,tokens=13), 6, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.paragraph:10: entering paragraph: StateBlock(line=5,level=2,tokens=13), 5, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=5,level=2,tokens=13), 6, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=5,level=2,tokens=13), 6, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=5,level=2,tokens=13), 6, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.list:102: entering list: StateBlock(line=5,level=2,tokens=13), 6, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=6,level=1,tokens=17), 6, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=6,level=1,tokens=17), 6, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=6,level=1,tokens=17), 6, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.code:10: entering code: StateBlock(line=6,level=2,tokens=18), 6, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=6,level=2,tokens=18), 6, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=6,level=2,tokens=18), 6, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=6,level=2,tokens=18), 6, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.list:102: entering list: StateBlock(line=6,level=2,tokens=18), 6, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.reference:10: entering reference: StateBlock(line=6,level=2,tokens=18), 6, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.html_block:35: entering html_block: StateBlock(line=6,level=2,tokens=18), 6, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.heading:13: entering heading: StateBlock(line=6,level=2,tokens=18), 6, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.lheading:10: entering lheading: StateBlock(line=6,level=2,tokens=18), 6, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.paragraph:10: entering paragraph: StateBlock(line=6,level=2,tokens=18), 6, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=8,level=1,tokens=22), 8, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=8,level=1,tokens=22), 8, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=8,level=1,tokens=22), 8, 9, True
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.code:10: entering code: StateBlock(line=8,level=0,tokens=23), 8, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.fence:10: entering fence: StateBlock(line=8,level=0,tokens=23), 8, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.blockquote:13: entering blockquote: StateBlock(line=8,level=0,tokens=23), 8, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.hr:14: entering hr: StateBlock(line=8,level=0,tokens=23), 8, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.list:102: entering list: StateBlock(line=8,level=0,tokens=23), 8, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.reference:10: entering reference: StateBlock(line=8,level=0,tokens=23), 8, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.html_block:35: entering html_block: StateBlock(line=8,level=0,tokens=23), 8, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.heading:13: entering heading: StateBlock(line=8,level=0,tokens=23), 8, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.lheading:10: entering lheading: StateBlock(line=8,level=0,tokens=23), 8, 9, False
2024-10-29 14:18:06,887 [DEBUG] markdown_it.rules_block.paragraph:10: entering paragraph: StateBlock(line=8,level=0,tokens=23), 8, 9, False
2024-10-29 14:18:50,647 [WARNING] asyncio:1981: Executing <Task finished name='Task-949' coro=<StorageManager._validate_with_timeout() done, defined at /home/joker/Documents/sheppard/src/core/memory/storage/storage_manager.py:129> result=True created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:695> took 0.600 seconds
2024-10-29 14:18:50,663 [INFO] src.core.sheppard.memory_ops:88: All memory connections validated successfully
2024-10-29 14:18:50,664 [DEBUG] httpcore.connection:85: close.started
2024-10-29 14:18:50,664 [DEBUG] httpcore.connection:85: close.complete
2024-10-29 14:18:50,665 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 14:18:50,665 [DEBUG] asyncio:881: Get address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:18:50,665 [DEBUG] asyncio:891: Getting address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1> took 0.530ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 11434, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 11434))]
2024-10-29 14:18:50,666 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=39, family=2, type=1, proto=6, laddr=('127.0.0.1', 52550), raddr=('127.0.0.1', 11434)> connected to 127.0.0.1:11434: (<_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>>, <anyio._backends._asyncio.StreamProtocol object at 0x7dd2addd0c20>)
2024-10-29 14:18:50,667 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:18:50,667 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7dd2add0bec0>
2024-10-29 14:18:50,667 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'POST']>
2024-10-29 14:18:50,667 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:18:50,667 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'POST']>
2024-10-29 14:18:50,667 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:18:50,667 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'POST']>
2024-10-29 14:18:50,667 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:18:50,966 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:18:50,967 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:18:50 GMT'), (b'Content-Length', b'355')])
2024-10-29 14:18:50,967 [INFO] httpx:1786: HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2024-10-29 14:18:50,968 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'POST']>
2024-10-29 14:18:50,968 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:18:50,968 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:18:50,968 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:18:52,700 [WARNING] asyncio:1981: Executing <Task pending name='Task-15' coro=<SheppardApp._periodic_health_check() running at /home/joker/Documents/sheppard/main.py:332> wait_for=<Future pending cb=[Task.task_wakeup()] created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/base_events.py:449> created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:420> took 1.029 seconds
2024-10-29 14:19:51,336 [INFO] src.core.sheppard.memory_ops:88: All memory connections validated successfully
2024-10-29 14:19:51,337 [DEBUG] httpcore.connection:85: close.started
2024-10-29 14:19:51,337 [DEBUG] httpcore.connection:85: close.complete
2024-10-29 14:19:51,338 [DEBUG] httpcore.connection:85: connect_tcp.started host='localhost' port=11434 local_address=None timeout=None socket_options=None
2024-10-29 14:19:51,338 [DEBUG] asyncio:881: Get address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:19:51,339 [DEBUG] asyncio:891: Getting address info b'localhost':11434, type=<SocketKind.SOCK_STREAM: 1> took 0.102ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 11434, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 11434))]
2024-10-29 14:19:51,340 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=39, family=2, type=1, proto=6, laddr=('127.0.0.1', 36622), raddr=('127.0.0.1', 11434)> connected to 127.0.0.1:11434: (<_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>>, <anyio._backends._asyncio.StreamProtocol object at 0x7dd2addd21b0>)
2024-10-29 14:19:51,340 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:19:51,340 [DEBUG] httpcore.connection:85: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7dd2add48890>
2024-10-29 14:19:51,340 [DEBUG] httpcore.http11:85: send_request_headers.started request=<Request [b'POST']>
2024-10-29 14:19:51,341 [DEBUG] httpcore.http11:85: send_request_headers.complete
2024-10-29 14:19:51,341 [DEBUG] httpcore.http11:85: send_request_body.started request=<Request [b'POST']>
2024-10-29 14:19:51,341 [DEBUG] httpcore.http11:85: send_request_body.complete
2024-10-29 14:19:51,341 [DEBUG] httpcore.http11:85: receive_response_headers.started request=<Request [b'POST']>
2024-10-29 14:19:51,341 [DEBUG] asyncio:865: <_SelectorSocketTransport fd=39 read=polling write=<idle, bufsize=0>> resumes reading
2024-10-29 14:19:51,851 [DEBUG] asyncio:857: <_SelectorSocketTransport fd=39 read=idle write=<idle, bufsize=0>> pauses reading
2024-10-29 14:19:51,851 [DEBUG] httpcore.http11:85: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Tue, 29 Oct 2024 19:19:51 GMT'), (b'Content-Length', b'426')])
2024-10-29 14:19:51,851 [INFO] httpx:1786: HTTP Request: POST http://localhost:11434/api/chat "HTTP/1.1 200 OK"
2024-10-29 14:19:51,853 [DEBUG] httpcore.http11:85: receive_response_body.started request=<Request [b'POST']>
2024-10-29 14:19:51,853 [DEBUG] httpcore.http11:85: receive_response_body.complete
2024-10-29 14:19:51,853 [DEBUG] httpcore.http11:85: response_closed.started
2024-10-29 14:19:51,853 [DEBUG] httpcore.http11:85: response_closed.complete
2024-10-29 14:19:53,715 [WARNING] asyncio:1981: Executing <Task pending name='Task-15' coro=<SheppardApp._periodic_health_check() running at /home/joker/Documents/sheppard/main.py:332> wait_for=<Future pending cb=[Task.task_wakeup()] created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/base_events.py:449> created at /home/joker/miniconda3/envs/cust/lib/python3.12/asyncio/tasks.py:420> took 1.013 seconds
2024-10-29 14:20:00,172 [INFO] src.core.sheppard.tools.manager:686: Tool manager shutdown completed
2024-10-29 14:20:00,173 [INFO] src.core.sheppard.interaction:457: Interaction cache cleared
2024-10-29 14:20:00,174 [INFO] src.core.sheppard.interaction:497: Interaction statistics reset
2024-10-29 14:20:00,174 [INFO] src.core.sheppard.interaction:514: Interaction handler cleanup completed
2024-10-29 14:20:00,212 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,213 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.111ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:20:00,213 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:20:00,217 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=45, family=2, type=1, proto=6, laddr=('127.0.0.1', 41700), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=45 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2addd43b0>)
2024-10-29 14:20:00,218 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:20:00,220 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,220 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.173ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:20:00,221 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=40, family=2, type=1, proto=6, laddr=('127.0.0.1', 57530), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=40 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2b85c3d40>)
2024-10-29 14:20:00,222 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,222 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.093ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:20:00,223 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=41, family=2, type=1, proto=6, laddr=('127.0.0.1', 57722), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=41 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2b7b9cc20>)
2024-10-29 14:20:00,224 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,224 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.078ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 14:20:00,225 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=42, family=2, type=1, proto=6, laddr=('127.0.0.1', 41362), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=42 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2addd18b0>)
2024-10-29 14:20:00,226 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,226 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.080ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 14:20:00,227 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=43, family=2, type=1, proto=6, laddr=('127.0.0.1', 55712), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=43 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2addd3b90>)
2024-10-29 14:20:00,232 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized PostgreSQL
2024-10-29 14:20:00,239 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized Redis
2024-10-29 14:20:00,242 [DEBUG] chromadb.api.segment:218: Collection episodic_memories already exists, returning existing collection.
2024-10-29 14:20:00,242 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: episodic_memories
2024-10-29 14:20:00,243 [DEBUG] chromadb.api.segment:218: Collection semantic_memories already exists, returning existing collection.
2024-10-29 14:20:00,243 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: semantic_memories
2024-10-29 14:20:00,245 [DEBUG] chromadb.api.segment:218: Collection contextual_memories already exists, returning existing collection.
2024-10-29 14:20:00,245 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: contextual_memories
2024-10-29 14:20:00,246 [DEBUG] chromadb.api.segment:218: Collection general_memories already exists, returning existing collection.
2024-10-29 14:20:00,246 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: general_memories
2024-10-29 14:20:00,247 [DEBUG] chromadb.api.segment:218: Collection abstracted_memories already exists, returning existing collection.
2024-10-29 14:20:00,247 [INFO] src.core.memory.storage.vector_store:69: Retrieved existing collection: abstracted_memories
2024-10-29 14:20:00,247 [INFO] src.core.memory.storage.storage_manager:75: Successfully initialized VectorStore
2024-10-29 14:20:00,314 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,315 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.183ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:20:00,320 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,320 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.148ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:20:00,326 [DEBUG] asyncio:881: Get address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,326 [DEBUG] asyncio:891: Getting address info localhost:6370, type=<SocketKind.SOCK_STREAM: 1> took 0.178ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6370, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6370))]
2024-10-29 14:20:00,332 [ERROR] src.core.memory.storage.connection:38: No Redis client found for layer: ephemeral
2024-10-29 14:20:00,339 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=44, family=2, type=1, proto=6, laddr=('127.0.0.1', 41704), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=44 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2addd5010>)
2024-10-29 14:20:00,340 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=46, family=2, type=1, proto=6, laddr=('127.0.0.1', 41718), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=46 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2addd4aa0>)
2024-10-29 14:20:00,340 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=47, family=2, type=1, proto=6, laddr=('127.0.0.1', 41734), raddr=('127.0.0.1', 6370)> connected to localhost:6370: (<_SelectorSocketTransport fd=47 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2addd6540>)
2024-10-29 14:20:00,341 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,341 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.110ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:20:00,344 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=48, family=2, type=1, proto=6, laddr=('127.0.0.1', 57536), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=48 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2addd7500>)
2024-10-29 14:20:00,346 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,346 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.181ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:20:00,346 [DEBUG] asyncio:881: Get address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,347 [DEBUG] asyncio:891: Getting address info localhost:6371, type=<SocketKind.SOCK_STREAM: 1> took 0.073ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6371, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6371))]
2024-10-29 14:20:00,349 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=49, family=2, type=1, proto=6, laddr=('127.0.0.1', 57546), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=49 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2addd4bc0>)
2024-10-29 14:20:00,350 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=56, family=2, type=1, proto=6, laddr=('127.0.0.1', 57552), raddr=('127.0.0.1', 6371)> connected to localhost:6371: (<_SelectorSocketTransport fd=56 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2addd70b0>)
2024-10-29 14:20:00,354 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,354 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.093ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:20:00,357 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=57, family=2, type=1, proto=6, laddr=('127.0.0.1', 57726), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=57 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2ab300440>)
2024-10-29 14:20:00,359 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,359 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.326ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:20:00,360 [DEBUG] asyncio:881: Get address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,360 [DEBUG] asyncio:891: Getting address info localhost:6372, type=<SocketKind.SOCK_STREAM: 1> took 0.076ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6372, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6372))]
2024-10-29 14:20:00,363 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=58, family=2, type=1, proto=6, laddr=('127.0.0.1', 57734), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=58 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2ab300080>)
2024-10-29 14:20:00,363 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=59, family=2, type=1, proto=6, laddr=('127.0.0.1', 57738), raddr=('127.0.0.1', 6372)> connected to localhost:6372: (<_SelectorSocketTransport fd=59 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2ab301b20>)
2024-10-29 14:20:00,366 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,366 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.095ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 14:20:00,369 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=60, family=2, type=1, proto=6, laddr=('127.0.0.1', 41376), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=60 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2addd4e60>)
2024-10-29 14:20:00,371 [DEBUG] asyncio:881: Get address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,371 [DEBUG] asyncio:891: Getting address info localhost:6373, type=<SocketKind.SOCK_STREAM: 1> took 0.084ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6373, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6373))]
2024-10-29 14:20:00,373 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=61, family=2, type=1, proto=6, laddr=('127.0.0.1', 41380), raddr=('127.0.0.1', 6373)> connected to localhost:6373: (<_SelectorSocketTransport fd=61 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2ab3001d0>)
2024-10-29 14:20:00,376 [DEBUG] asyncio:881: Get address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1>
2024-10-29 14:20:00,376 [DEBUG] asyncio:891: Getting address info localhost:6374, type=<SocketKind.SOCK_STREAM: 1> took 0.104ms: [(<AddressFamily.AF_INET6: 10>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('::1', 6374, 0, 0)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('127.0.0.1', 6374))]
2024-10-29 14:20:00,378 [DEBUG] asyncio:1156: <asyncio.TransportSocket fd=41, family=2, type=1, proto=6, laddr=('127.0.0.1', 55722), raddr=('127.0.0.1', 6374)> connected to localhost:6374: (<_SelectorSocketTransport fd=41 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7dd2b7b9d160>)
2024-10-29 14:20:00,381 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:20:00,385 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:20:00,386 [INFO] src.core.memory.cleanup:90: Memory cleanup completed: {'postgresql_removed': 0, 'chromadb_removed': 0, 'redis_removed': 0, 'timestamp': '2024-10-29T14:20:00.175186', 'layers_cleaned': ['episodic', 'semantic', 'contextual', 'general', 'abstracted'], 'total_removed': 0}
2024-10-29 14:20:00,387 [INFO] src.core.sheppard.memory_ops:500: Memory operations cleanup completed successfully
2024-10-29 14:20:00,388 [INFO] src.core.sheppard.core:446:  Sheppard shutdown completed successfully
2024-10-29 14:20:00,389 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:20:00,391 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:20:00,392 [INFO] __main__:161: Conversation history saved to /home/joker/Documents/sheppard/src/data/conversations/conversation_20241029_142000.json
2024-10-29 14:20:00,394 [INFO] __main__:161: Conversation history saved to /home/joker/Documents/sheppard/src/data/conversations/conversation_20241029_142000.json
2024-10-29 14:20:00,394 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:20:00,395 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:20:00,395 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:20:00,395 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:20:00,396 [INFO] src.core.memory.storage.connection:194: Starting connection cleanup
2024-10-29 14:20:00,396 [INFO] src.core.memory.storage.connection:240: Connection cleanup completed
2024-10-29 14:20:00,397 [DEBUG] asyncio:710: Close <_UnixSelectorEventLoop running=False closed=False debug=True>
2024-10-29 19:03:01,175 [ERROR] system_checks:270 - Error validating installation: type object 'DatabaseConfig' has no attribute 'REQUIRED_DIRS'
2024-10-29 19:03:01,197 [INFO] connection:230 - Starting connection cleanup
2024-10-29 19:03:01,197 [INFO] connection:269 - Connection cleanup completed
2024-10-29 19:03:01,199 [INFO] connection:230 - Starting connection cleanup
2024-10-29 19:03:01,199 [INFO] connection:269 - Connection cleanup completed
